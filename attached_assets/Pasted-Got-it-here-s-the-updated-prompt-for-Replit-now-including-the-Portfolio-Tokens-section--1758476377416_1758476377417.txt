Got it ✅ — here’s the **updated prompt for Replit**, now including the **Portfolio → Tokens section in the sidebar** that dynamically shows the user’s token holdings after their wallet is connected.

---

### Prompt for Replit

I already have a **Connect Wallet button** on the Home page. Please integrate it with **Thirdweb + MetaMask (Base Sepolia only)** instead of rendering a separate `<ConnectButton />`.

### Requirements

1. **Wallet Provider Setup**

   * Use `thirdweb/react` hooks: `useConnect`, `useDisconnect`, `useActiveAccount`, `useWalletBalance`.
   * Wallet: **MetaMask (`io.metamask`) only**.
   * Chain: **Base Sepolia Testnet (chainId: 84532)**.
   * Use `createThirdwebClient` with my client ID:

     ```
     ad56c696e9e352f2d6beb550518a3023
     ```

2. **Onboarding Flow Logic (Home Page)**

   * When **no wallet is connected**, the **hero section** should display:

     ```
     Meet Mantua.AI,
     your personal DeFi Assistant
     ```

     plus the **Connect Wallet button**.
   * After a user **connects their wallet**, the hero message disappears and is replaced with:

     ```
     Hi, 0x123...abcd
     ```

     (shortened wallet address).
   * After the user enters their **first prompt**, the greeting disappears and only the **streamed output results** remain.
   * If a user **disconnects their wallet**, reset back to the initial hero state (as if they never connected).

3. **Integration with Existing Button**

   * Reuse the current **Connect Wallet button** already on the Home page.
   * On click: trigger MetaMask connection via Thirdweb.
   * If connected: show abbreviated address + disconnect option.
   * If disconnected: show “Connect Wallet” button again and reset state.

4. **Portfolio → Tokens Section (Sidebar)**

   * In the **sliding sidebar menu**, under the **Portfolio → Tokens** section:

     * When a wallet is **not connected**, show a placeholder text:

       ```
       Connect your wallet to view tokens
       ```
     * When a wallet is **connected**, show the user’s token balances for Base Sepolia.
     * Use `useWalletBalance` from `thirdweb/react` to fetch balances.
     * Display tokens in a simple list:

       ```
       ETH - 0.523
       USDC - 128.00
       ...
       ```
     * Format balances to **4 decimal places max**.

---

### Example Implementation Snippets

**Wallet Setup (client + MetaMask)**

```tsx
const client = createThirdwebClient({
  clientId: "ad56c696e9e352f2d6beb550518a3023",
});

const metamask = createWallet("io.metamask");
```

**Portfolio Tokens Section**

```tsx
import { useActiveAccount, useWalletBalance } from "thirdweb/react";

function PortfolioTokens() {
  const account = useActiveAccount();
  const { data: balances, isLoading } = useWalletBalance({
    chain: baseSepolia,
    address: account?.address,
  });

  if (!account) {
    return <p className="text-gray-500">Connect your wallet to view tokens</p>;
  }

  if (isLoading) {
    return <p className="text-gray-500">Loading balances...</p>;
  }

  return (
    <div className="space-y-2">
      {balances?.map((token) => (
        <div key={token.contractAddress} className="flex justify-between">
          <span>{token.symbol}</span>
          <span>{parseFloat(token.displayValue).toFixed(4)}</span>
        </div>
      ))}
    </div>
  );
}
```

Then mount this inside your **sliding sidebar → Portfolio → Tokens** section.

---

✅ End goal:

* **Home Hero** → wallet connection changes messaging and onboarding flow.
* **Sidebar Portfolio → Tokens** → shows **real-time token balances** from the connected wallet (Base Sepolia).
* If disconnected → resets both hero and sidebar to initial states.

---

Do you want me to also make the **Portfolio → Tokens section expandable** (like a dropdown with “Tokens”, “Liquidity Positions”, “Agents”), so you can grow it later without rewriting the sidebar?
